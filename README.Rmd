# Multi-State Adaptive-Dynamic Process Monitoring

[![Travis-CI Build Status](https://travis-ci.com/gabrielodom/mvMonitoring.svg?token=ZzKTz9X2qQxWeqCPkaKq&branch=master)](https://travis-ci.com/gabrielodom/mvMonitoring)

## Overview
We create this package, `mvMonitor`, from the foundation laid by Kazor et al (2016). The `mvMonitor` package is designed to make simulation of multi-state multivariate process monitoring statistics easy and straightforward, as well as streamlining the online process monitoring component.

## Installation
Make sure you have the latest version of the `devtools` package, and pull the package from GitHub. Remember, if you can read this file, you are one of the few people who have access to this package. In addition, you can also run the following:
```{r packLoad_GitHub}
devtools::install_github("gabrielodom/mvMonitoring", auth_token = "tokenHere")
```
where you create the value of "tokenHere" by generating a personal access token (PAT) at https://github.com/settings/tokens and copying the quoted string to this argument.

## Examples
These are the examples shown in the help files for hte mspTrain(), mspMonitor(), and mspWarning() functions.
```{r mspExamples}
data("normal_switch_xts")
# The state values are recorded in the first column.
n <- nrow(normal_switch_xts)
nTrainObs <- floor(0.4 * n)

# Calculate the training summary, but save five observations for monitoring.
trainResults_ls <- mspTrain(data = normal_switch_xts[1:(n - 5), -1],
                            labelVector = normal_switch_xts[1:(n - 5), 1],
                            trainObs = nTrainObs,
                            lagsIncluded = c(0, -1))

trainResults_ls

# While training, we included 1 lag (the default), so we will also lag the
# observations we will test.
testObs <- normal_switch_xts[(n - 6):n, -1]
testObs <- stats::lag(zoo::zoo(testObs), 0:-1)
testObs <- xts::xts(testObs[-1,])
testObs <- cbind(normal_switch_xts[(n - 5):n, 1], testObs)
testObs

# Run the monitoring function.
dataAndFlags <- mspMonitor(observations = testObs[, -1],
                           labelVector = testObs[, 1],
                           trainingSummary = trainResults_ls$TrainingSpecs)

dataAndFlags

# Alarm check the last row of the matrix returned by the mspMonitor function
mspWarning(dataAndFlags)
```
