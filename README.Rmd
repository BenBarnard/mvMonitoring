# Multi-State Adaptive-Dynamic Process Monitoring

[![Travis-CI Build Status](https://travis-ci.com/gabrielodom/mvMonitoring.svg?token=ZzKTz9X2qQxWeqCPkaKq&branch=master)](https://travis-ci.com/gabrielodom/mvMonitoring)

## Overview
We create this package, `mvMonitoring`, from the foundation laid by Kazor et al (2016). The `mvMonitor` package is designed to make simulation of multi-state multivariate process monitoring statistics easy and straightforward, as well as streamlining the online process monitoring component.

## Installation
Make sure you have the latest version of the `devtools` package, and pull the package from GitHub. Remember, if you can read this file, you are one of the few people who have access to this package. In addition, you can also run the following:
```{r packLoad_GitHub, eval=FALSE}
devtools::install_github("gabrielodom/mvMonitoring", auth_token = "tokenHere")
```
where you create the value of "tokenHere" by generating a personal access token (PAT) at https://github.com/settings/tokens and copying the quoted string to this argument.
Load the library after installation by
```{r packLoad}
library(mvMonitoring)
```

## Examples
These are the examples shown in the help files for the mspProcessData(), mspTrain(), mspMonitor(), and mspWarning() functions.
```{r mspExamples}
# Generate one week's worth of normal operating (NOC) data recorded at the one-
# minute level
noc_xts <- mspProcessData(faults = "NOC")
# The state values are recorded in the first column.
n <- nrow(noc_xts)

# Calculate the training summary, but save five observations for monitoring.
# This function will treat the first 3 days as in control (IC), and then update
# the training window each day.
trainResults_ls <- mspTrain(data = noc_xts[1:(n - 5), -1],
                            labelVector = noc_xts[1:(n - 5), 1],
                            trainObs = 4320)

# While training, we included 1 lag (the default), so we will also lag the
# observations we will test.
testObs <- noc_xts[(n - 6):n, -1]
testObs <- xts:::lag.xts(testObs, 0:1)
testObs <- testObs[-1,]
testObs <- cbind(noc_xts[(n - 5):n, 1], testObs)

# Run the monitoring function.
dataAndFlags <- mspMonitor(observations = testObs[, -1],
                           labelVector = testObs[, 1],
                           trainingSummary = trainResults_ls$TrainingSpecs)

# Alarm check the last row of the matrix returned by the mspMonitor function
mspWarning(dataAndFlags)
```
